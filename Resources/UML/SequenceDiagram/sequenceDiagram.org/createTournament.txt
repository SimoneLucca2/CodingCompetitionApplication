entryspacing 0.9
activate Client
Client->APIGateway: POST /v1/tournament
activate APIGateway
APIGateway->TournamentManager : POST /tournament
activate TournamentManager
TournamentManager->TournamentCreator:CreateTournament(msg)
activate TournamentCreator
TournamentCreator-> TournamentDataManager: getTournament(tournamentId)
activate TournamentDataManager
TournamentDataManager -> Database: getTournament(tournamentId)

Database-->TournamentDataManager: return tournament
TournamentDataManager --> TournamentCreator: return tournament

deactivateafter TournamentDataManager
alt no active tournament with the same name
    TournamentCreator->TournamentDataManager: CreateTournament
activate TournamentDataManager
    TournamentDataManager -> Database: createTournament
    
TournamentDataManager->Database:Post badges for the tournament
TournamentDataManager<--Database:Commit
TournamentCreator<--TournamentDataManager:return
deactivateafter TournamentDataManager

TournamentManager<--TournamentCreator:return
deactivateafter TournamentCreator

APIGateway<--TournamentManager:200 Ok
deactivateafter TournamentManager
APIGateway-->Client: 200 OK

end

